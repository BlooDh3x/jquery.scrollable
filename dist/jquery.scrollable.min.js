// jQuery.scrollable, v0.3.1
// Copyright (c)2015 Michael Heim, Zeilenwechsel.de
// Distributed under MIT license
// http://github.com/hashchange/jquery.scrollable


!function(a){"use strict";var b={},c={},d={},e={},f={};!function(b,c){function d(a){return a=c.normalizeContainer(a),b.getScrollable(a)}function e(a,d){return a=c.normalizeContainer(a),d=d?c.normalizeAxisName(d):c.BOTH_AXES,b.getScrollRange(a,d)}function f(a,d,e){e=c.normalizeOptions(e,d),a=c.normalizeContainer(a),d=c.normalizePosition(d,a,b.getScrollable(a),e),b.scrollTo(a,d,e)}function g(a,d){a=c.normalizeContainer(a),d=c.normalizeOptions(d),b.stopScroll(a,d)}a.fn.scrollable=function(){return d(this)},a.fn.scrollRange=function(a){return e(this,a)},a.fn.scrollTo=function(a,b){return f(this,a,b),this},a.fn.stopScroll=function(a){return g(this,a),this}}(b,c),function(b,c,d){b.getScrollable=function(a){return d.getScrollable(a)},b.getScrollRange=function(a,b){return c.getScrollMaximum(a,b)},b.scrollTo=function(e,f,g){a.isWindow(e[0])&&(g=c.bindAnimationCallbacks(g,e[0])),c.isRedundantTarget(f,c.getScrollStartPosition(e,g))||(g.append||b.stopScroll(e,g),d.animateScroll(e,f,g))},b.stopScroll=function(a,d){var e=b.getScrollable(a);c.stopScrollAnimation(e,d)}}(b,e,f),function(b,c,d){function e(d,e,g,i){var j=g.axis,k=h(d),l=k[b.HORIZONTAL],m=k[b.VERTICAL],n=j===b.VERTICAL,o=j===b.HORIZONTAL,p=a.extend({},g,{axis:b.HORIZONTAL}),q=a.extend({},g,{axis:b.VERTICAL}),r={};return r[b.HORIZONTAL]=n?g.merge?c.getLastTarget_QW(i,b.HORIZONTAL):b.IGNORE_AXIS:f(l,e,p,i)[b.HORIZONTAL],r[b.VERTICAL]=o?g.merge?c.getLastTarget_QW(i,b.VERTICAL):b.IGNORE_AXIS:f(m,e,q,i)[b.VERTICAL],r}function f(d,e,f,h){var j,k,l=d,m=0,n=1,o=f.axis,p=b.getScrollMode(f),q={};if(o!==b.HORIZONTAL&&o!==b.VERTICAL)throw new Error("Axis option not defined, or not defined unambiguously, with current value "+o);if(c.isString(d)){if(d=d.toLowerCase(),k=d.slice(0,2),("+="===k||"-="===k)&&(d=d.slice(2),n="+="===k?1:-1,m=c.getScrollStartPosition_QW(e,h,o,p)),"px"===d.slice(-2))d=parseFloat(d.slice(0,-2));else if("%"===d.slice(-1))d=parseFloat(d.slice(0,-1))*c.getScrollMaximum(e,o)/100;else if(o===b.HORIZONTAL){if("left"===d&&(d=0),"right"===d&&(d=c.getScrollMaximum(e,o)),"top"===d||"bottom"===d)throw new Error("Desired position "+d+"is inconsistent with axis option "+o)}else if("top"===d&&(d=0),"bottom"===d&&(d=c.getScrollMaximum(e,o)),"left"===d||"right"===d)throw new Error("Desired position "+d+"is inconsistent with axis option "+o);c.isString(d)&&a.isNumeric(d)&&(d=parseFloat(d))}if(c.isNumber(d))d=Math.round(m+n*d),q[o]=g(d,e,o);else{if(!i(d))throw new Error("Invalid position argument "+l);q[o]=p===b.MODE_MERGE?c.getLastTarget_QW(h,o):b.IGNORE_AXIS}return j=o===b.HORIZONTAL?b.VERTICAL:b.HORIZONTAL,q[j]=b.IGNORE_AXIS,q}function g(a,b,d){return a=Math.min(a,c.getScrollMaximum(b,d)),a=Math.max(a,0)}function h(d){var e={};return a.each(d,function(a,d){c.isInArray(a,m)?e[b.normalizeAxisName(a)]=d:e[a]=d}),e}function i(a){return void 0===a||null===a||a===!1||""===a}var j=["v","y","top"],k=["h","x","left"],l=["vh","hv","xy","yx","all"],m=j.concat(k,l);b.VERTICAL="vertical",b.HORIZONTAL="horizontal",b.BOTH_AXES="both",b.IGNORE_AXIS=-999,b.defaults={axis:b.VERTICAL,queue:"internal.jquery.scrollable"},b.MODE_REPLACE="replace",b.MODE_APPEND="append",b.MODE_MERGE="merge",b.normalizeContainer=function(b){var d=b[0],e=d&&d.tagName&&d.tagName.toLowerCase(),f="iframe"===e,g=!e||"html"===e||"body"===e;return g?a(c.ownerWindow(d)):f?a(d.contentWindow):b},b.normalizePosition=function(b,c,g,h){var i=new d.QueueWrapper(g,h.queue);return a.isPlainObject(b)?e(b,c,h,i):f(b,c,h,i)},b.normalizeOptions=function(d,e){var f,g,j=b.defaults.axis;return d=d?h(d):{},a.isPlainObject(e)?(e=h(e),f=!i(e[b.HORIZONTAL])&&e[b.HORIZONTAL]!==b.IGNORE_AXIS,g=!i(e[b.VERTICAL])&&e[b.VERTICAL]!==b.IGNORE_AXIS,j=f&&g?b.BOTH_AXES:f?b.HORIZONTAL:b.VERTICAL):c.isString(e)&&(e=e.toLowerCase(),"top"===e||"bottom"===e?j=b.VERTICAL:("left"===e||"right"===e)&&(j=b.HORIZONTAL)),a.extend({},b.defaults,{axis:j},d)},b.normalizeAxisName=function(a){if(c.isInArray(a,j)?a=b.VERTICAL:c.isInArray(a,k)?a=b.HORIZONTAL:c.isInArray(a,l)&&(a=b.BOTH_AXES),a!==b.VERTICAL&&a!==b.HORIZONTAL&&a!==b.BOTH_AXES)throw new Error("Invalid axis name "+a);return a},b.getScrollMode=function(a){return a.append?b.MODE_APPEND:a.merge?b.MODE_MERGE:b.MODE_REPLACE}}(c,e,d),function(b,c,d){function e(b){return a.grep(a.map(b,function(b){return a.fn[b]}),function(a){return!!a})}function f(a){return c.isInArray(a,m)}function g(a){return a===d.defaults.queue&&"fx"!==a}function h(a){return c.isString(a)&&""!==a&&a!==d.defaults.queue&&"fx"!==a}var i=e(["fadeIn","fadeOut","fadeToggle","hide","show","slideDown","slideToggle","slideUp","toggle"]),j=e(["animate"]),k=e(["delay"]),l=e(["fadeTo"]),m=i.concat(j,k,l);b.QueueWrapper=function(a,b){this._$elem=a,this._queueName=void 0!==b?b:d.defaults.queue,this._isInternalCustomQueue=g(this._queueName),this._isOtherCustomQueue=h(this._queueName)},b.QueueWrapper.prototype.addToQueue=function(b){var d=b.func,e=b.args,g=this._$elem,h=this._queueName,l=function(a){a()};if(l.isSentinel=!0,b.info&&(l.info=b.info),f(d)){if(c.isInArray(d,i))a.extend(e[0],{queue:h});else if(c.isInArray(d,j))a.extend(e[1],{queue:h});else if(c.isInArray(d,k))e[1]=h;else if("fx"!==h)throw new Error("Can't use a custom queue (queue name: '"+h+"') with the provided animation function");d.apply(g,e)}else g.queue(h,function(a){d.apply(g,e),a()});g.queue(h,l),this._isInternalCustomQueue&&this.getContent()[1]===l&&g.dequeue(h)},b.QueueWrapper.prototype.getInfo=function(){var b=[],c=this.getContent();return a.each(c,function(a,c){c.isSentinel&&c.info&&b.push(c.info)}),b},b.QueueWrapper.prototype.getContent=function(){return this._$elem.queue(this._queueName)}}(d,e,c),function(b,c,d,e){var f=["start","complete","done","fail","always","step","progress"];b.getScrollMaximum=function(d,e){var f,g,h,i=d[0],j=i.ownerDocument||i.document,k=a.isWindow(i);if(e===c.BOTH_AXES)f={},f[c.HORIZONTAL]=b.getScrollMaximum(d,c.HORIZONTAL),f[c.VERTICAL]=b.getScrollMaximum(d,c.VERTICAL);else{if(e===c.HORIZONTAL)g=k?j.documentElement.clientWidth:i.clientWidth,h=k?a.documentWidth(j):i.scrollWidth;else{if(e!==c.VERTICAL)throw new Error("Unrecognized axis argument "+e);g=k?j.documentElement.clientHeight:i.clientHeight,h=k?a.documentHeight(j):i.scrollHeight}f=Math.max(h-g,0)}return f},b.ownerWindow=function(b){var c=b instanceof a?b[0]:b,d=c&&(9===c.nodeType?c:c.ownerDocument);return d&&(d.defaultView||d.parentWindow)||a.isWindow(c)&&c||void 0},b.extractCallbacks=function(b){var c={};return b&&a.each(f,function(a,d){var e=b[d];e&&(c[d]=e,delete b[d])}),c},b.getCallbacks=function(b){var c={};return b&&a.each(f,function(a,d){var e=b[d];e&&(c[d]=e)}),c},b.bindAnimationCallbacks=function(b,c){return b&&(b=a.extend({},b),a.each(f,function(d,e){b[e]&&(b[e]=a.proxy(b[e],c))})),b},b.addScrollAnimation=function(a,d,e){var f=d[c.HORIZONTAL],g=d[c.VERTICAL],h=f!==c.IGNORE_AXIS,i=g!==c.IGNORE_AXIS,j={},k={position:d,callbacks:b.getCallbacks(e)};h&&(j.scrollLeft=f),i&&(j.scrollTop=g),(h||i)&&b.addAnimation(a,j,e,k)},b.addAnimation=function(b,c,e,f){var g=new d.QueueWrapper(b,e.queue),h={func:a.fn.animate,args:[c,e],info:f};g.addToQueue(h)},b.stopScrollAnimation=function(b,c){c=a.extend({jumpToTargetPosition:!1},c),c.queue===!1?b.stop(!0,c.jumpToTargetPosition):b.stop(c.queue,!0,c.jumpToTargetPosition)},b.getScrollStartPosition=function(a,f,g){var h=new d.QueueWrapper(e.getScrollable(a),f.queue),i=c.getScrollMode(f);return b.getScrollStartPosition_QW(a,h,g,i)},b.getScrollStartPosition_QW=function(a,d,e,f){var g,h=f===c.MODE_APPEND,i=f===c.MODE_MERGE;return e||(e=c.BOTH_AXES),g=h||i?b.getLastTarget_QW(d,e):b.getCurrentScrollPosition(a,e),e===c.BOTH_AXES?(g[c.HORIZONTAL]===c.IGNORE_AXIS&&(g[c.HORIZONTAL]=b.getCurrentScrollPosition(a,c.HORIZONTAL)),g[c.VERTICAL]===c.IGNORE_AXIS&&(g[c.VERTICAL]=b.getCurrentScrollPosition(a,c.VERTICAL))):g[e]===c.IGNORE_AXIS&&(g[e]=b.getCurrentScrollPosition(a,e)),g},b.getLastTarget=function(a,c,f){return b.getLastTarget_QW(new d.QueueWrapper(e.getScrollable(a),c.queue),f)},b.getLastTarget_QW=function(b,d){var e,f,g=!d||d===c.BOTH_AXES,h={},i=b.getInfo();return h[c.HORIZONTAL]=h[c.VERTICAL]=c.IGNORE_AXIS,a.each(i,function(a,b){b.position&&(e=b.position[c.HORIZONTAL],f=b.position[c.VERTICAL],void 0!==e&&e!==c.IGNORE_AXIS&&(h[c.HORIZONTAL]=e),void 0!==f&&f!==c.IGNORE_AXIS&&(h[c.VERTICAL]=f))}),g?h:h[d]},b.isRedundantTarget=function(a,b){var d=a[c.HORIZONTAL],e=a[c.VERTICAL],f=b[c.HORIZONTAL],g=b[c.VERTICAL],h=d===c.IGNORE_AXIS||d===f,i=e===c.IGNORE_AXIS||e===g;return h&&i},b.getCurrentScrollPosition=function(a,b){var d={};return b&&b!==c.BOTH_AXES||(d[c.HORIZONTAL]=a.scrollLeft(),d[c.VERTICAL]=a.scrollTop()),b===c.HORIZONTAL?a.scrollLeft():b===c.VERTICAL?a.scrollTop():d},b.isString=function(a){return"string"==typeof a||a instanceof String},b.isNumber=function(a){return("number"==typeof a||a instanceof Number)&&!isNaN(a)},b.isInArray=function(b,c){return-1!==a.inArray(b,c)}}(e,c,d,f),function(b,c){function d(b){var c,d=(b||window).document;return"BackCompat"===d.compatMode?a(d.body):(f||(c=e(),c.contentWindow.scrollTo(1,0),f=1===c.contentDocument.documentElement.scrollLeft?"html":"body",document.body.removeChild(c)),a("html"===f?d.documentElement:d.body))}function e(){var a=document.createElement("iframe"),b=document.body;return a.style.cssText="position: absolute; top: -600px; left: -600px; width: 500px; height: 500px; margin: 0px; padding: 0px; border: none; display: block;",a.frameborder="0",b.appendChild(a),a.src="about:blank",a.contentDocument.write('<!DOCTYPE html><html><head><meta charset="UTF-8"><title></title><style type="text/css">body { width: 550px; height: 1px; }</style></head><body></body></html>'),a}var f;b.getScrollable=function(b){return a.isWindow(b[0])?d(b[0]):b},b.animateScroll=function(a,d,e){var f=b.getScrollable(a);c.addScrollAnimation(f,d,e)},a(function(){void 0===f&&d()})}(f,e)}("undefined"!=typeof jQuery?jQuery:$);
//# sourceMappingURL=jquery.scrollable.min.js.map