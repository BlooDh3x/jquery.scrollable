// jQuery.scrollable, v0.2.1
// Copyright (c)2015 Michael Heim, Zeilenwechsel.de
// Distributed under MIT license
// http://github.com/hashchange/jquery.scrollable


!function(a,b){"use strict";"object"==typeof exports?module.exports=b(require("jquery"),require("jquery.documentsize")):"function"==typeof define&&define.amd&&define(["jquery","jquery.documentsize"],b)}(this,function(jQuery){"use strict";!function(a){var b={},c={},d={},e={},f={};!function(b,c){function d(a){return a=c.normalizeContainer(a),b.getScrollable(a)}function e(a,d){return a=c.normalizeContainer(a),d=d?c.normalizeAxisName(d):c.BOTH_AXES,b.getScrollRange(a,d)}function f(a,d,e){e=c.normalizeOptions(e,d),a=c.normalizeContainer(a),d=c.normalizePosition(d,a,b.getScrollable(a),e),b.scrollTo(a,d,e)}function g(a,d){a=c.normalizeContainer(a),d=c.normalizeOptions(d),b.stopScroll(a,d)}a.fn.scrollable=function(){return d(this)},a.fn.scrollRange=function(a){return e(this,a)},a.fn.scrollTo=function(a,b){return f(this,a,b),this},a.fn.stopScroll=function(a){return g(this,a),this}}(b,c),function(b,c,d){b.getScrollable=function(a){return d.getScrollable(a)},b.getScrollRange=function(a,b){return c.getScrollMaximum(a,b)},b.scrollTo=function(e,f,g){a.isWindow(e[0])&&(g=c.bindAnimationCallbacks(g,e[0])),g.append||b.stopScroll(e,g),d.animateScroll(e,f,g)},b.stopScroll=function(a,d){var e=b.getScrollable(a);c.stopScrollAnimation(e,d)}}(b,e,f),function(b,c,d){function e(c,d,e,g){var h=e.axis,i=k(c),j=i[b.HORIZONTAL],l=i[b.VERTICAL],m=a.extend({},e,{axis:b.HORIZONTAL}),n=a.extend({},e,{axis:b.VERTICAL}),o={};return o[b.HORIZONTAL]=h===b.VERTICAL?b.IGNORE_AXIS:f(j,d,m,g)[b.HORIZONTAL],o[b.VERTICAL]=h===b.HORIZONTAL?b.IGNORE_AXIS:f(l,d,n,g)[b.VERTICAL],o}function f(d,e,f,h){var j,k,n=d,o=0,p=1,q=f.axis,r=l(f),s={};if(q!==b.HORIZONTAL&&q!==b.VERTICAL)throw new Error("Axis option not defined, or not defined unambiguously, with current value "+q);if(c.isString(d)){if(d=d.toLowerCase(),k=d.slice(0,2),("+="===k||"-="===k)&&(d=d.slice(2),p="+="===k?1:-1,o=i(e,h,q,r)),"px"===d.slice(-2))d=parseFloat(d.slice(0,-2));else if("%"===d.slice(-1))d=parseFloat(d.slice(0,-1))*c.getScrollMaximum(e,q)/100;else if(q===b.HORIZONTAL){if("left"===d&&(d=0),"right"===d&&(d=c.getScrollMaximum(e,q)),"top"===d||"bottom"===d)throw new Error("Desired position "+d+"is inconsistent with axis option "+q)}else if("top"===d&&(d=0),"bottom"===d&&(d=c.getScrollMaximum(e,q)),"left"===d||"right"===d)throw new Error("Desired position "+d+"is inconsistent with axis option "+q);c.isString(d)&&a.isNumeric(d)&&(d=parseFloat(d))}if(c.isNumber(d))d=Math.round(o+p*d),s[q]=g(d,e,q);else{if(!m(d))throw new Error("Invalid position argument "+n);s[q]=b.IGNORE_AXIS}return j=q===b.HORIZONTAL?b.VERTICAL:b.HORIZONTAL,s[j]=b.IGNORE_AXIS,s}function g(a,b,d){return a=Math.min(a,c.getScrollMaximum(b,d)),a=Math.max(a,0)}function h(a,c){return c===b.HORIZONTAL?a.scrollLeft():a.scrollTop()}function i(a,c,d,e){var f;return e===b.MODE_APPEND&&(f=j(c,d)),void 0===f&&(f=h(a,d)),f}function j(c,d){var e,f,g=c.getInfo();return a.each(g,function(a,c){c.position&&(e=c.position[d],void 0!==e&&e!==b.IGNORE_AXIS&&(f=e))}),f}function k(d){var e={};return a.each(d,function(a,d){c.isInArray(a,q)?e[b.normalizeAxisName(a)]=d:e[a]=d}),e}function l(a){return a.append?b.MODE_APPEND:b.MODE_REPLACE}function m(a){return void 0===a||null===a||a===!1||""===a}var n=["v","y","top"],o=["h","x","left"],p=["vh","hv","xy","yx","all"],q=n.concat(o,p);b.VERTICAL="vertical",b.HORIZONTAL="horizontal",b.BOTH_AXES="both",b.IGNORE_AXIS=-999,b.defaults={axis:b.VERTICAL,queue:"internal.jquery.scrollable"},b.MODE_REPLACE="replace",b.MODE_APPEND="append",b.normalizeContainer=function(b){var d=b[0],e=d&&d.tagName&&d.tagName.toLowerCase(),f="iframe"===e,g=!e||"html"===e||"body"===e;return g?a(c.ownerWindow(d)):f?a(d.contentWindow):b},b.normalizePosition=function(b,c,g,h){var i=new d.QueueWrapper(g,h.queue);return a.isPlainObject(b)?e(b,c,h,i):f(b,c,h,i)},b.normalizeOptions=function(d,e){var f,g,h=b.defaults.axis;return d=d?k(d):{},a.isPlainObject(e)?(e=k(e),f=!m(e[b.HORIZONTAL])&&e[b.HORIZONTAL]!==b.IGNORE_AXIS,g=!m(e[b.VERTICAL])&&e[b.VERTICAL]!==b.IGNORE_AXIS,h=f&&g?b.BOTH_AXES:f?b.HORIZONTAL:b.VERTICAL):c.isString(e)&&(e=e.toLowerCase(),"top"===e||"bottom"===e?h=b.VERTICAL:("left"===e||"right"===e)&&(h=b.HORIZONTAL)),a.extend({},b.defaults,{axis:h},d)},b.normalizeAxisName=function(a){if(c.isInArray(a,n)?a=b.VERTICAL:c.isInArray(a,o)?a=b.HORIZONTAL:c.isInArray(a,p)&&(a=b.BOTH_AXES),a!==b.VERTICAL&&a!==b.HORIZONTAL&&a!==b.BOTH_AXES)throw new Error("Invalid axis name "+a);return a}}(c,e,d),function(b,c,d){function e(b){return a.grep(a.map(b,function(b){return a.fn[b]}),function(a){return!!a})}function f(a){return c.isInArray(a,l)}function g(a){return a===d.defaults.queue&&"fx"!==a}var h=e(["fadeIn","fadeOut","fadeToggle","hide","show","slideDown","slideToggle","slideUp","toggle"]),i=e(["animate"]),j=e(["delay"]),k=e(["fadeTo"]),l=h.concat(i,j,k);b.QueueWrapper=function(a,b){this._$elem=a,this._queueName=void 0!==b?b:d.defaults.queue,this._isInternalCustomQueue=g(this._queueName)},b.QueueWrapper.prototype.addToQueue=function(b){var d=b.func,e=b.args,g=this._$elem,k=this._queueName,l=function(a){a()};if(l.isSentinel=!0,b.info&&(l.info=b.info),f(d)){if(c.isInArray(d,h))a.extend(e[0],{queue:k});else if(c.isInArray(d,i))a.extend(e[1],{queue:k});else if(c.isInArray(d,j))e[1]=k;else if("fx"!==k)throw new Error("Can't use a custom queue (queue name: '"+k+"') with the provided animation function");d.apply(g,e)}else g.queue(k,function(a){d.apply(g,e),a()});this._isInternalCustomQueue&&g.queue(k,l),this._isInternalCustomQueue&&this.getContent()[1]===l&&g.dequeue(k)},b.QueueWrapper.prototype.getInfo=function(){var b=[],c=this.getContent();return a.each(c,function(a,c){c.isSentinel&&c.info&&b.push(c.info)}),b},b.QueueWrapper.prototype.getContent=function(){return this._$elem.queue(this._queueName)}}(d,e,c),function(b,c,d){var e=["start","complete","done","fail","always","step","progress"];b.getScrollMaximum=function(d,e){var f,g,h,i=d[0],j=i.ownerDocument||i.document,k=a.isWindow(i);if(e===c.BOTH_AXES)f={},f[c.HORIZONTAL]=b.getScrollMaximum(d,c.HORIZONTAL),f[c.VERTICAL]=b.getScrollMaximum(d,c.VERTICAL);else{if(e===c.HORIZONTAL)g=k?j.documentElement.clientWidth:i.clientWidth,h=k?a.documentWidth(j):i.scrollWidth;else{if(e!==c.VERTICAL)throw new Error("Unrecognized axis argument "+e);g=k?j.documentElement.clientHeight:i.clientHeight,h=k?a.documentHeight(j):i.scrollHeight}f=Math.max(h-g,0)}return f},b.ownerWindow=function(b){var c=b instanceof a?b[0]:b,d=c&&(9===c.nodeType?c:c.ownerDocument);return d&&(d.defaultView||d.parentWindow)||a.isWindow(c)&&c||void 0},b.extractCallbacks=function(b){var c={};return b&&a.each(e,function(a,d){var e=b[d];e&&(c[d]=e,delete b[d])}),c},b.getCallbacks=function(b){var c={};return b&&a.each(e,function(a,d){var e=b[d];e&&(c[d]=e)}),c},b.bindAnimationCallbacks=function(b,c){return b&&(b=a.extend({},b),a.each(e,function(d,e){b[e]&&(b[e]=a.proxy(b[e],c))})),b},b.addScrollAnimation=function(a,d,e){var f=d[c.HORIZONTAL],g=d[c.VERTICAL],h=f!==c.IGNORE_AXIS,i=g!==c.IGNORE_AXIS,j={},k={position:d,callbacks:b.getCallbacks(e)};h&&(j.scrollLeft=f),i&&(j.scrollTop=g),(h||i)&&b.addAnimation(a,j,e,k)},b.addAnimation=function(b,c,e,f){var g=new d.QueueWrapper(b,e.queue),h={func:a.fn.animate,args:[c,e],info:f};g.addToQueue(h)},b.stopScrollAnimation=function(b,c){c=a.extend({jumpToTargetPosition:!1},c),c.queue===!1?b.stop(!0,c.jumpToTargetPosition):b.stop(c.queue,!0,c.jumpToTargetPosition)},b.isString=function(a){return"string"==typeof a||a instanceof String},b.isNumber=function(a){return("number"==typeof a||a instanceof Number)&&!isNaN(a)},b.isInArray=function(b,c){return-1!==a.inArray(b,c)}}(e,c,d),function(b,c){function d(b){var c,d=(b||window).document;return"BackCompat"===d.compatMode?a(d.body):(f||(c=e(),c.contentWindow.scrollTo(1,0),f=1===c.contentDocument.documentElement.scrollLeft?"html":"body",document.body.removeChild(c)),a("html"===f?d.documentElement:d.body))}function e(){var a=document.createElement("iframe"),b=document.body;return a.style.cssText="position: absolute; top: -600px; left: -600px; width: 500px; height: 500px; margin: 0px; padding: 0px; border: none; display: block;",a.frameborder="0",b.appendChild(a),a.src="about:blank",a.contentDocument.write('<!DOCTYPE html><html><head><meta charset="UTF-8"><title></title><style type="text/css">body { width: 550px; height: 1px; }</style></head><body></body></html>'),a}var f;b.getScrollable=function(b){return a.isWindow(b[0])?d(b[0]):b},b.animateScroll=function(a,d,e){var f=b.getScrollable(a);c.addScrollAnimation(f,d,e)},a(function(){void 0===f&&d()})}(f,e)}("undefined"!=typeof jQuery?jQuery:$)});
//# sourceMappingURL=jquery.scrollable.min.js.map